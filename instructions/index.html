<html>
<head>
<title>Annotation Exercises</title>
</head>
<body>
<h3><a href="../brat">Annotator System</a></h3>
<h3>Annotation Instructions</h3>
<a name="top"/>
<ul>
<li><a href="#login">Getting Started</a></li>
<li><a href="#ann-ent">Adding Entities</a></li>
<li><a href="#save">Exporting the data</a></li>
<li><a href="#link">Linking Entities</a></li>
<li><a href="#norm">Normalising Entities</a></li>
<li><a href="#ann-event">Adding Events</a></li>
<li><a href="#edit">Editing and Deleting Annotations</a></li>
<li><a href="#zero">Zero Length Annotations</a></li>
<li><a href="#vis">Visualisation</a></li>
<li><a href="#bugs">Known Bugs</a></li>
</ul>

<h3>Other Information</h3>
<ul>
<li><a href="/status/size/">Triplestore statistics</a></li>
<li><a href="/test/">Querying the Triplestore</a></li>
</ul>

<p><strong>Information about basic Brat usage can be found in the online <a href="http://brat.nlplab.org/manual.html">manual</a></strong></p>

<h3><strong>You need to be using CHROME for the SVG support required by the annotation system</strong></h3>

<a name="login"/>
<h4>Getting Started</h4>
<p><a href="#top">^</a></p>
<p><img src="../images/first.png" width="75%" /></p>
<ul>
<li>Click [Tab] to bring up the document browser. Navigate to the Narrative directory.</li>
<li>You will see a folder with your name</li> 
<li>If there are two files - select the one <strong>not</strong> called wholesale.txt</li> 
<li>When you have selected the file (double-click on the file name) the file will load in the browser window</li>
</ul>
<p><img src="../images/SelectDocument.png" width="75%" /></p>
<ul>
<li>Move your cursor to the top of the screen and a menu will appear.</li>
<li>Select 'Log In'</li> 
</ul>
<p><img src="../images/LoggingIn.png" width="75%" /></p>
<ul>
<li>Your Username is the same as your folder name (same capitalisation) - you will have either been told or emailed you password</li>
<li>When you are successfully logged in the border will go blue</li>
</ul>
<p><img src="../images/LoggedIn.png" width="75%" /></p>
<p>Congratulations you are now logged in and can annotate your text!</p>
<p><strong>When everyone has logged in we will do our first annotation together.</strong></p>

<a name="ann-ent"/><p>
<h4>Adding Entities</h4>
<a href="#top">^</a></p>
<ul>
<li>At the top of the screen is the story designation - highlight that string.</li>
<li>A popup will appear like that below (it is quite easy to make the popup vanish by, for example, trying to resize your browser window - don't worry just highlight the string again).</li> 
</ul>
<p><img src="../images/CreateAnnotation.png" width="50%" /></p>
<ul>
<li>In the 'Entity' box on the left select the radio button that says 'Context'.</li>
<li>You may have to expand some of the list items to find the 'Context' option. You can expand and hide the lists by clicking on the '+' and '-' icons. (HINT: Entity/Item/Abstract-Item/Context)</li>
<li>Select 'OK' from the menu at the bottom of the popup.</li>
<li>The system will return you to the document view and you should see the text highlighted</li>
</ul>
<p><img src="../images/AddContext.png" width="75%" /></p>
<ul>
<li>Now we will create a character annotation. Select the name of a character from the text and highlight it</li>
<li>This time select the 'Character' radio button from the 'Entity' box and select 'OK'.</li> 
</ul>

<a name="save"/>
<h4>Exporting Data</h4>
<p><a href="#top">^</a></p>
<ul>
<li>There are three ways of exporting the data. Bring up the menu at the top of the screen and select the 'Data' button.</li>
<li>A popup will appear like that below.</li> 
</ul>
<p><img src="../images/export.png" width="75%" /></p>
<ul>
<li>If you select the 'Ann' option by 'Document Data' then a new page will be opened showing you the information that Brat is recording about your annotations. Click the button and have a look.</li>
<li>If you select the 'RDF' option by 'Document Data' then you will be able to see the RDF that is being generated. Click the button and have a look.</li>
<li>What we want to do now is save that RDF to the triplestore (the database of triples). First open up the <a href="../char_vis.html" target="_blank">Character Visualiser</a> in a new tab.</li>
<li>One by one we will go around the room and select the 'Export' button by the label 'triplestore' on the popup</li>
<li>Refresh the visualisation page and you should see a new dot has appeared. Whatever colour that dot was, that is <strong>your</strong> colour. Any characters that you add to the system will be that colour which will allow you to see your dots among everyone else's.</li>
<li>There isn't much to see at the moment so lets add some more!</li>
</ul>

<a name="link"/>
<h4>Linking Entities</h4>
<p><a href="#top">^</a></p>
<ul>
<li>Create a second Character annotation.</li>
<li>Click on one of the Character annotations (on the annotation not the text) and drag the mouse across to the second Character. A popup will appear which offers you a selection of relationships to choose from (see below). If one of the relationships is appropriate then select it and click 'OK'.</li> 
<li>When you create a link you will see a line joining the two entities which a label indicating the type of relationship.</li>
</ul>
<p>Dragging the pointer from one entity to another creates a link. The types of relationship that can be created between those entities:<br /><img src="../images/EntityLinking.png" width="75%" /></p>
<p>Having created the link you must select the relationship type:<br /><img src="../images/EntityLinks.png" width="75%" /></p>

<a name="norm"/>
<h4>Normalising Entities</h4>
<p><a href="#top">^</a></p>
<ul>
<li>Any given Character (or other type of Entity) will probably appear more than one in the text. To indicate the annotation is referring to the same character we can assign a normalisation value.</li>
<li>Click in the normalisation search box on the Annotation popup and you will get a popup which allows you to search for, create local and select local or archetype normalisation entities</li> 
</ul>
<p><img src="../images/AddNormalisation.png" width="50%" /></p>
<ul>
<li>You can either create a local normalisation which is just available within the document or you can search for an archetype and (if you find one you like) can link directly to that.</li>
<li>Currently you can create local entities but <strong>you cannot delete them!</strong> (This option will be implemented in the future).</li>
</ul>
<p>Creating a local entity by typing the name into the 'Create Local' box and select create:<br /><img src="../images/CreatingLocalEntity.png" width="50%" /></p>
<p>The new entity is now listed in the local entities box but still need to be selected:<br /><img src="../images/LocalEntityListed.png" width="50%" /></p>
<p>Local entity selected:<br /><img src="../images/SelectLocalEntity.png" width="50%" /></p>
<p>Alternatively...</p>
<p>Searching for archetype:<br /><img src="../images/NormalisationAndArchetypes.png" width="50%" /></p>
<p>Any results are listed for selection:<br /><img src="../images/SearchGlobalEntity.png" width="50%" /></p>
<p>As with local entities the chose result must be explicitly selected:<br /><img src="../images/SelectGlobalEntity.png" width="50%" /></p>
<ul>
<li>Don't worry - if you create a local normalisation you can then choose to link the local normalisation and the global archetype together.</li>
<li>When you link the text to a local entity the linking box become active and says 'Clink here to link to shared entity'</li>
</ul>
<p><img src="../images/AddAnnWithLocal.png" width="50%" /></p>
<ul>
<li>Click in that text box and the edit local normalisation popup appears. The form allows you to search for archetypes and creating a link between that an the local entity.</li>
<li>Once a link between a local entity and a archetype has been defined then it persists throughout the document.</li>
</ul>
<p><img src="../images/AddArchetype.png" width="50%" /></p>
<p><img src="../images/FindArchetype.png" width="50%" /></p>
<p><img src="../images/SelectedArchetype.png" width="50%" /></p>
<ul>
<li>By linking to archetypes which exist across document your versions of the characters will start to link up with other people's versions.</li>
</ul>

<a name="ann-event"/>
<h4>Adding Events</h4>
<p><a href="#top">^</a></p>
<ul>
<li>Adding an event annotation is just like adding an entity.</li>
<li>Highlight the text and select the desire event type from the panel on the right hand side.</li>
</ul>
<p><img src="../images/AddEvent.png" width="50%" /></p>
<ul>
<li>Event have some required relationships are well as optional ones.</li>
<li>Events can be linked to other Entities (or other Events) in the same way as Entities are linked</li>
</ul>
<p><img src="../images/EventRequirements.png" width="50%" /></p>
<p><img src="../images/EventRelationship.png" width="50%" /></p>

<a name="edit"/>
<h4>Editing and Deleting Annotations</h4>
<p><a href="#top">^</a></p>
<ul>
<li>All annotations can be edited by double-clicking on it. This will bring up the relevant dialogue box (the same popup that you saw when the annotation was created).</li>
<li>Changing the values and saving will change the annotation.</li>
<li>It is also possible to delete the annotation from this dialogue box. If you select delete you will be asked to confirm that you wish to remove the annotation.</li>
<li>It is not possible to delete an annotation that other annotations link to. You must first delete any relationships pointing to the unwanted Event or Entity.</li>
<li>Although they share a dialogue box it is not possible to convert an Event to an Entity or vise versa.</li>
</ul>

<a name="zero"/>
<h4>Zero Length Annotations</h4>
<p><a href="#top">^</a></p>
<ul>
<li>It is not possible to have two annotations with the same string. You may also want to create entities or events which do not relate to an explicit section of text:</li>
<li>you can create a zero-length annotation by SHIFT-Clicking on the text. The annotation acts like any other annotation.</li>
</ul>

<a name="vis"/>
<h4>Visualisations</h4>
<p><a href="#top">^</a></p>
<p>There are currently two visualisations of the data:</p>
<ul>
<li>Character Visualisation: this visualisation shows all the characters in the Triplestore and the links between them</li>
<li>Document Visualisation: this visualisation shows the events, relationships between them and linked entities within the selected document. The document can be selected via the dropdown at the bottom-left of the screen.</li>
</ul>

<a name="bugs"/>
<h4>Bugs</h4>
<p><a href="#top">^</a></p>
<p>Known bugs:</p>
<ul>
<li>Annotations can't contains quotation mark (")</li>
</ul>
</body>
</html>